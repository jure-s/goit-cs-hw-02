# goit-cs-hw-02

## –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è: –û—Å–Ω–æ–≤–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º  
–ú–µ—Ç–∞ ‚Äî –∑–∞–∫—Ä—ñ–ø–∏—Ç–∏ –±–∞–∑–æ–≤—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ Bash, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç–∏ —Ç–∞ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è –∑ –æ—Å–Ω–æ–≤–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—ó (Docker, Docker Compose).

---

## üìò Task 1 ‚Äî Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –≤–µ–±—Å–∞–π—Ç—ñ–≤

### –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è
–°—Ç–≤–æ—Ä–∏—Ç–∏ Bash-—Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –≤–µ–±—Å–∞–π—Ç—ñ–≤ —ñ –∑–∞–ø–∏—Å—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É –ª–æ–≥-—Ñ–∞–π–ª.

### –í–∏–º–æ–≥–∏
1. –£ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ `task1/` —Å—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç **`website_check.sh`**.
2. –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–ø–∏—Å–æ–∫ —Å–∞–π—Ç—ñ–≤ (–∞–¥—Ä–µ—Å–∏ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ —É –≤–∏–≥–ª—è–¥—ñ –º–∞—Å–∏–≤—É –∞–±–æ –∑ —Ñ–∞–π–ª—É).
3. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–∞–π—Ç—É –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–ø–∏—Ç `curl` –∞–±–æ `ping`, –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –∫–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (`200`, `404`, `502` —Ç–æ—â–æ).
4. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è —É —Ñ–∞–π–ª **`website_status.log`** —ñ–∑ –∑–∞–∑–Ω–∞—á–µ–Ω–Ω—è–º –¥–∞—Ç–∏, —á–∞—Å—É, —Å–∞–π—Ç—É —Ç–∞ —Å—Ç–∞—Ç—É—Å—É.
5. –Ø–∫—â–æ —Å–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, —É –∫–æ–Ω—Å–æ–ª—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è.

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É —É –ª–æ–≥-—Ñ–∞–π–ª—ñ
```
[2025-11-02 09:00:00] https://google.com  ->  200 OK
[2025-11-02 09:00:01] https://github.com ->  200 OK
[2025-11-02 09:00:02] https://nonexistent.site ->  ‚ùå ERROR
```

### –ó–∞–ø—É—Å–∫
–£ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ Linux –∞–±–æ Git Bash:
```bash
cd task1
bash website_check.sh
```

---

## üê≥ Task 2 ‚Äî FastAPI —É Docker + PostgreSQL

### –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è
–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ FastAPI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Ä–∞–∑–æ–º —ñ–∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö PostgreSQL.  
–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–µ—Ä–µ–∂–µ–≤—É –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ Docker Compose.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
```
goit-cs-hw-02/
‚îú‚îÄ task1/
‚îÇ  ‚îú‚îÄ website_check.sh
‚îÇ  ‚îî‚îÄ website_status.log
‚îÇ
‚îî‚îÄ task2/
   ‚îú‚îÄ app/                  # –∫–æ–¥ FastAPI-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
   ‚îÇ   ‚îú‚îÄ conf/db.py        # –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ PostgreSQL
   ‚îÇ   ‚îú‚îÄ main.py           # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É FastAPI
   ‚îÇ   ‚îú‚îÄ templates/        # HTML-—à–∞–±–ª–æ–Ω–∏
   ‚îÇ   ‚îî‚îÄ static/           # CSS, JS
   ‚îÇ
   ‚îú‚îÄ Dockerfile            # –æ–±—Ä–∞–∑ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
   ‚îú‚îÄ docker-compose.yaml   # –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ + PostgreSQL
   ‚îú‚îÄ .env                  # –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (.gitignore)
   ‚îî‚îÄ .dockerignore
```

### –í–º—ñ—Å—Ç `.env`
```
POSTGRES_DB=hw02
POSTGRES_USER=postgres
POSTGRES_PASSWORD=567234
```

### Dockerfile
–ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ `python:3.12-slim`, –∫–æ–ø—ñ—é—î –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `requirements.txt` —Ç–∞ –∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ **Uvicorn**:
```dockerfile
FROM python:3.12-slim
WORKDIR /app
COPY app/requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt && pip install --no-cache-dir uvicorn
COPY app /app
EXPOSE 8000
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### docker-compose.yaml
–û–ø–∏—Å—É—î –¥–≤–∞ —Å–µ—Ä–≤—ñ—Å–∏:  
- `app` ‚Äî FastAPI –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫;  
- `db` ‚Äî PostgreSQL (–≤–µ—Ä—Å—ñ—è 16).  
–ë–∞–∑–∞ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø–µ—Ä—à–æ—é; –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –æ—á—ñ–∫—É—î, –ø–æ–∫–∏ –≤–æ–Ω–∞ —Å—Ç–∞–Ω–µ –≥–æ—Ç–æ–≤–æ—é.

```yaml
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: hw02_app
    ports:
      - "8000:8000"
    env_file:
      - .env
    depends_on:
      db:
        condition: service_healthy

  db:
    image: postgres:16
    container_name: hw02_db
    environment:
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB}"]
      interval: 5s
      timeout: 3s
      retries: 20
    volumes:
      - pgdata_hw02:/var/lib/postgresql/data
    ports:
      - "5432:5432"

volumes:
  pgdata_hw02:
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ
1. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:
   ```bash
   cd task2
   docker compose up --build
   ```
2. –£ –±—Ä–∞—É–∑–µ—Ä—ñ –≤—ñ–¥–∫—Ä–∏—Ç–∏:
   - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞: http://localhost:8000  
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: http://localhost:8000/docs  
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É **¬´–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ë–î¬ª** ‚Äî –º–∞—î –∑‚Äô—è–≤–∏—Ç–∏—Å—å –∑–µ–ª–µ–Ω–∏–π –±–ª–æ–∫ *‚ÄúWelcome to FastAPI!‚Äù*, –∞ –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `hw02_app` –∑‚Äô—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Ç `/healthchecker`.

### –ü—Ä–∏–º—ñ—Ç–∫–∏
- –£ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó `db.py` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `db` —è–∫ —Ö–æ—Å—Ç ‚Äî —Ü–µ —ñ–º‚Äô—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL —É Docker Compose.
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É volume `pgdata_hw02`.
- –ó—É–ø–∏–Ω–∏—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:
  ```bash
  docker compose down
  ```
- –ü–æ–≤–Ω—ñ—Å—Ç—é –æ—á–∏—Å—Ç–∏—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (–∑ volume):
  ```bash
  docker compose down -v
  ```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
- [x] **Task 1** ‚Äî Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–µ–±—Å–∞–π—Ç—ñ–≤.  
- [x] **Task 2** ‚Äî FastAPI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É Docker —ñ–∑ PostgreSQL.  

